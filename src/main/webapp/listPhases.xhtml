<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">


<h:head>
	<title>JSF 2.0 Liste Personne</title>


	<style type="text/css">
.btn-space {
	margin-right: 5px;
}
</style>
	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" />
</h:head>
<h:body>

	<ui:include src="nav.xhtml"></ui:include>
	<div class="container">
		<h3>
			<h:outputText value="#{msg.greeting_text}" />
		</h3>

		<div class="row">
			<div class="col-md-6 bg-light text-left">
				<a href="listProjects.xhtml" class="btn btn-primary"> <span
					class="glyphicon glyphicon-circle-arrow-left"></span> Retour
				</a>
			</div>
			<h:form>
				<p class="col-md-6 bg-light text-right">
					<h:commandButton styleClass="btn btn-success"
						action="#{ctrPhaseBean.addPhase}" value="#{msg.btn_add}">
						<f:param name="projectId" value="#{ctrProjetBean.projectId}" />
					</h:commandButton>
				</p>
			</h:form>
		</div>
		<h:dataTable value="#{ctrProjetBean.phaseList}" var="projectphase"
			class="table table-striped table-hover table-bordered tableUpdated">
			<h:column>
				<f:facet name="header">
					<h:outputText value="#{msg.projectCode}" />
				</f:facet>
    				#{projectphase.phaseCode}
    		</h:column>
			<h:column>
				<!-- column header -->
				<f:facet name="header">
					<h:outputText value="#{msg.amount}" />
				</f:facet>
    				#{projectphase.amount}
    			</h:column>

			<h:column>
				<f:facet name="header">
					<h:outputText value="#{msg.description}" />
				</f:facet>
    				#{projectphase.description}
    		</h:column>

			<h:column>
				<f:facet name="header">
					<h:outputText value="#{msg.startDate}" />
				</f:facet>
    				#{projectphase.startDate}
    		</h:column>

			<h:column>
				<f:facet name="header">
					<h:outputText value="#{msg.endDate}" />
				</f:facet>
    				#{projectphase.endDate} 
    		</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value="#{msg.status}" />
				</f:facet>
				<h:outputText
					value=" #{projectphase.status == 2 ? msg.status_finished : ''} #{projectphase.status == 0 ? msg.status_en_attente : ''} #{projectphase.status == 1 ? msg.status_encours : ''} " />

			</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value="#{msg.isended}" />
				</f:facet>
				<h:outputText
					value=" #{projectphase.isEnded == 1 ? msg.isEndedYes:  msg.isEndedNo}" />
			</h:column>

			<h:column>
				<f:facet name="header">
					<h:outputText value="#{msg.creationDate}" />
				</f:facet>
				
    				#{projectphase.creationDate}
    		</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value="#{msg.updateDate}" />
				</f:facet>
    				#{projectphase.updateDate}
    		</h:column>

		</h:dataTable>

	</div>

</h:body>


</html>